%此代码为2题1问所用函数的代码,若想得到结果，请打开后在命令行中输入[x,fval]=fminbnd(@func_sec_1,0,100000),注意p取负
function p=func_sec_1(c)
m1=4866;%浮子质量
m2=2433;%振子质量
rho=1025;%海水密度
g=9.8;%小g
k1=80000;%弹簧系数
k2=250000;%扭转弹簧系数
m3=1165.992;%垂荡附加质量
freq=2.2143;%频率
s=pi;
zeta1=167.8395;%垂荡兴波阻尼系数
f=4890;%振幅
deltat=0.0001;%最小模拟时间间隔
v1=0;v2=0;%浮子/振子垂荡速度（以上方向为正）
a1=0;a2=0;%浮子/振子垂荡加速度（以上方向为正）
x1=0;x2=0;%浮子/振子离各自初始点相对位移（以上方向为正）
M1=0;M2=0;%浮子/振子所受力矩（以波浪推力方向为正，此处设为右向为正）
w1=0;w2=0;%浮子/振子角加速度（以波浪推力方向为正）
theta1=0;theta2=0;%浮子/振子离各自初始位置相对角度（以波浪推力方向为正）
t=0;%当前时间
sigma1=c;%阻尼系数，力以向外扩张为正
w=0;
for i=1:1000000
    t=t+deltat;
    a1=(f*cos(freq*t)-k1*(x1-x2)-zeta1*v1-sigma1*(v1-v2)-rho*g*x1*s)/(m1+m3);
    a2=(sigma1*(v1-v2)+k1*(x1-x2))/m2;
    x1_t=x1;x2_t=x2;%临时存放
    x1=x1+v1*deltat;
    x2=x2+v2*deltat;
    w=w+abs((x1_t-x2_t-x1+x2)*sigma1*(v1-v2));%功计算
    v1=v1+a1*deltat;
    v2=v2+a2*deltat;
end
p=-w/100;